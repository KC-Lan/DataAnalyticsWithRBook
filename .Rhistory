install.packages("SportsAnalytics")
USArrests
names(islands)
names(USArrests)
length(islands)
length(USArrests)
length("Test")
length(islands)
length(USArrests)
dimnames(islands)
length(USArrests)
dimnames(USArrests)
dim(USArrests)
factor(c("大學生","碩士班學生","博士班學生"),levels = c("大學生","碩士班學生","博士班學生"))
listSample<-list(Students=c("Tom","Kobe","Emma","Amy"),Year=2017,Score=c(60,50,80,40))
listSample
complete.cases(airquality)
NBA1415<-fetch_NBAPlayerStatistics(“14-15")
library(SportsAnalytics)
NBA1516<-fetch_NBAPlayerStatistics("15-16")
library(SportsAnalytics)
NBA1516<-fetch_NBAPlayerStatistics("15-16")
```
資料取出後，可用`str()`函數總覽`NBA1516`這個資料框的欄位與欄位類別
```{r}
str(NBA1516)
```
如果想看資料框內容，可用`head()`和`tail()`快速瀏覽部分資料
```{r}
head(NBA1516)
tail(NBA1516)
library(readxl)
X2010_12DaignosisAUC <- read_excel("C:/Users/yjtseng/Dropbox/BCH/2010-12DaignosisAUC.xlsx")
View(X2010_12DaignosisAUC)
?readRDS
?read_delim
?readxl
install.packages("readxl")
install.packages("readxl")
?readxl
library(readxl)
?read_excel
?read_delim
library(readr)
?library(readr)
?read_delim
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
library(jsonlite)
PetData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=f4a75ba9-7721-4363-884d-c3820b0b917c"))
names(PetData)
;l
library(jsonlite)
library(RCurl)
PetData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=f4a75ba9-7721-4363-884d-c3820b0b917c"))
names(PetData)
PetData
str(PetData)
PetData$result
PetData$result$results
str(PetData)
head(PetData$result$results)
table(PetData$result$results$Reason)
PetData$result$results$Reason
myjson <- toJSON(iris, pretty=TRUE)
myjson
myjson
str(myjson)
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
library(jsonlite)
library(RCurl)
PetData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=f4a75ba9-7721-4363-884d-c3820b0b917c"))
str(PetData)
head(PetData$result$results)
table(PetData$result$results$Reason)
myjson <- toJSON(iris, pretty=TRUE)
str(myjson)
install.packages("rjson")
rjson::fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=f4a75ba9-7721-4363-884d-c3820b0b917c"))
test<-rjson::fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=f4a75ba9-7721-4363-884d-c3820b0b917c"))
str(test)
test$result$results
test$result$results[``]
test$result$results[1]
library(XML)
waterQ <- xmlTreeParse("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=190796c8-7c56-42e0-8068-39242b8ec927",useInternal=TRUE)
waterQ <- xmlTreeParse("http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927",useInternal=TRUE)
waterQ
rootNode <- xmlRoot(waterQ)
rootNode
str(rootNode)
rootNode
class(rootNode)
data_df <- xmlToDataFrame("http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927")
data_df
xpathSApply(rootNode,"//code_name",xmlValue)
xmlSApply
xmlSApply(rootNode,
function(x) xmlSApply(x, xmlValue))
rootNode$schema
rootNode$diffgram
xmlName(rootNode)
names(rootNode)
htmlCode <-readLines(url("http://im.cgu.edu.tw/bin/home.php"))
htmlCode
htmlCode <-readLines(url("http://im.cgu.edu.tw/bin/home.php"))
htmlCode
html <- htmlTreeParse("http://im.cgu.edu.tw/bin/home.php", useInternalNodes=T)
xpathSApply(html, "//title", xmlValue)
xpathSApply(html, "//span[@class='ptname ']", xmlValue)
library(httr)
html <- htmlTreeParse(GET("http://im.cgu.edu.tw/bin/home.php"), useInternalNodes=T)
xpathSApply(html, "//title", xmlValue)
xpathSApply(html, "//span[@class='ptname ']", xmlValue)
library(httr)
html <- htmlTreeParse(GET("http://im.cgu.edu.tw/bin/home.php"), useInternalNodes=T)
xpathSApply(html, "//title", xmlValue)
xpathSApply(html, "//span[@class='ptname ']", xmlValue)
library(httr)
html <- htmlTreeParse(GET("http://im.cgu.edu.tw/bin/home.php"), useInternalNodes=T)
xpathSApply(html, "//title", xmlValue)
xpathSApply(html, "//span[@class='ptname ']", xmlValue)
library(httr)
html <- htmlTreeParse(GET("http://im.cgu.edu.tw/bin/home.php"), useInternalNodes=T)
xpathSApply(html, "//title", xmlValue)
xpathSApply(html, "//span[@class='ptname ']", xmlValue)
library(httr)
#EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD
token<-"EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD" #將token複製到此處 your token
FBData = GET(
paste0("https://graph.facebook.com/v2.8/tsaiingwen?fields=
posts{message,likes.summary(true)}&access_token=",
token))
library(httr)
#EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD
token<-"EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD" #將token複製到此處 your token
FBData = GET(
paste0("https://graph.facebook.com/v2.8/tsaiingwen?fields=posts%7Bmessage%2Clikes%7D&access_token=",
token))
names(FBData)
library(httr)
#EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD
token<-"EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD" #將token複製到此處 your token
FBData = GET(
paste0("https://graph.facebook.com/v2.8/tsaiingwen?fields=posts%7Bmessage%2Clikes%7D&access_token=",
token))
names(FBData)
json1 = content(FBData)
names(json1)
json1 = content(FBData)
names(json1)
names(json1$posts)
json2 = jsonlite::fromJSON(toJSON(json1$posts$data))
names(json2)
json1$posts$data
json1$posts$data[[1]]
str(json1$posts$data)
names(json1$posts$data)
json1$posts$data[[1]]$message
head(json1$posts$data)
str(json1$posts$data)
class(json1$posts$data)
json1$posts$data
str(json1$posts$data)
library(httr)
token<-"your token" #將token複製到此處
FBData = GET(
paste0("https://graph.facebook.com/v2.8/tsaiingwen?fields=posts%7Bmessage%7D&access_token=",
token))
names(FBData)
json1 = content(FBData)
json1 = content(FBData)
FBData
content(FBData)
install.packages("xml2")
json1 = content(FBData)
names(json1)
names(json1$posts)
names(json1$doc)
json1$doc
json1$node
library(httr)
token<-"EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD" #將token複製到此處 your token
FBData = GET(
paste0("https://graph.facebook.com/v2.8/tsaiingwen?fields=posts%7Bmessage%7D&access_token=",
token))
names(FBData)
json1 = content(FBData)
names(json1)
names(json1$doc)
names(json1$posts)
json2 = jsonlite::fromJSON(toJSON(json1$posts$data))
names(json2)
json1$posts$data
head(json1$posts$data)
library(Rfacebook)
token<-"EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD" #將token複製到此處
getPage("tsaiingwen", token,n = 30)
token<-"EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD" #將token複製到此處
getPage("tsaiingwen", token,n = 5)
totalPage<-NULL
lastDate<-Sys.Date()
numberOfPost<-30
DateVector<-seq(as.Date("2016-01-01"),lastDate,by="5 days")
DateVectorStr<-as.character(DateVector)
DateVectorStr
totalPage<-NULL
lastDate<-Sys.Date()
numberOfPost<-30
DateVector<-seq(as.Date("2017-01-01"),lastDate,by="5 days")
DateVectorStr<-as.character(DateVector)
DateVectorStr
totalPage<-NULL
token<-'EAACEdEose0cBAN735dFf6vCprl4mWVZBgz1ZBUZA2Xq2jZAt6UhkZARfjBGS5XHffzLjNKsW5uTP3Px7lVXME7bEaLuhZAkQzdvNYsSlsZB3KcF5LZCdGArmEoB4kO9k2LOTqa5zZBmXQEhyOLPgl3SaP5DtmNM8oHtP8YBzjozFUZBrkmz514M2Q8LwZAUxziZAXT4ZD'
numberOfPost<-30
for(i in 1:(length(DateVectorStr)-1)){
tempPage<-getPage("tsaiingwen", token,
since = DateVectorStr[i],until = DateVectorStr[i+1])
totalPage<-rbind(totalPage,tempPage)
}
nrow(totalPage)
?write.table
